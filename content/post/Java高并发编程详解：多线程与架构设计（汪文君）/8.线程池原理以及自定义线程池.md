---
title: 第八章 线程池原理以及自定义线程池
description: Java高并发编程详解：多线程与架构设计（汪文君）- 第八章 线程池原理以及自定义线程池
slug: Java高并发编程详解：多线程与架构设计（汪文君）- 第八章 线程池原理以及自定义线程池
date: 2022-08-15 17:00:00+0000
categories:
    - Java高并发编程详解：多线程与架构设计（汪文君）
tags:
    - Java
---

# 第八章 线程池原理以及自定义线程池

一个完整的线程池应该具备如下要素：

- 任务队列

- 线程数量管理功能

- 任务拒绝策略

- 线程工厂

- QueueSize

- Keepedalive

## 1 拒绝策略

DenyPolicy主要用于当Queue的runnable达到了limit上限时，通过那种策略来通知提交者。

默认包含三种实现：

DiscardDenyPolicy 该拒绝策略会直接将任务丢弃

AbortDenyPolicy 该拒绝策略会向任务提出者抛出异常

RunnerDenyPolicy 该拒绝策略会在任务提交者所在的线程中执行任务

## 2 InternalTask

InternalTask是Runnable的一个实现，主要用于线程池内部，该类会使用到RunnableQueue,然后从queue中取出某个Runnable,并运行runnable的run方法。

这部分作者直接手写了一个线程池，可怕 = =、
