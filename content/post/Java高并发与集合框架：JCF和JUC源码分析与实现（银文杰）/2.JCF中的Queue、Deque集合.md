---
title: 第二章 JCF中的Queue、Deque集合
description: Java高并发与集合框架：JCF和JUC源码分析与实现（银文杰）- 第二章 JCF中的Queue、Deque集合
slug: Java高并发与集合框架：JCF和JUC源码分析与实现（银文杰）- 第二章 JCF中的Queue、Deque集合
date: 2022-08-22 14:48:00+0000
categories:
    - Java高并发与集合框架：JCF和JUC源码分析与实现（银文杰）
tags:
    - Java
---

# 第二章  JCF中的Queue、Deque集合

Queue（队列）、Deque（双端队列）集合是JCF中另一种重要的集合。

队列存储的数据允许从结构的一端进行添加操作（入队操作），并且从结构的另一端进行移除操作（出队操作）。进行入队操作的一端称为队列尾部；进行出队操作的一端称为队列头部。双端队列是指可以在一端既进行入队操作，又进行出队操作的队列结构。

注意：队列和双端队列都不允许在除了队列头部或队列尾部的其他索引位上进行数据的读/写操作。在JCF中，具有队列操作特性的集合都实现或间接实现了java.util.Queue接口；具有双端队列操作特性的集合都实现或间接实现了java.util.Deque接口。

java.util.ArrayDeque集合和java.util.PriorityQueue队列分别是Queue（队列）接口和Deque（双端队列）接口在JCF中的基础集合。ArrayDeque集合为了保证对已有数组控件的充分利用，使用的是可循环的双指针数组（但不代表不进行扩容操作）；PriorityQueue队列使用的是小顶堆结构，对基于权值的排序性能进行了优化。

## 1 ArrayDeque

ArrayDeque集合是从JDK 1.6开始推出的，它是一个基于数组（可扩容的数组）结构实现的双端队列。与普通的数组结构相比，这种数组结构是一种可循环使用的数组结构，可以有效减少数组扩容的次数。ArrayDeque集合是线程不安全的，不能在多线程场景中使用。

ArrayDeque集合既有队列、双端队列的操作特点，又有栈结构的操作特点。因此在JDK 1.6发布后，ArrayDeque集合是官方推荐的继Stack集合和LinkedList集合后，用于进行栈结构操作的新集合。

## 2 PriorityQueue

PriorityQueue队列是基于堆结构构建的，具体来说，是基于数组形式的小顶堆构建的。它保证了在每次添加新数据对象、移除已有数据对象后，集合都能维持小顶堆的结构特点。





