---
title: 第一章 MySQL储存引擎
description: 第一章 MySQL储存引擎
slug: 第一章 MySQL储存引擎
date: 2022-08-29 15:37:00+0000
categories:
    - Other
tags:
    - MySQL
---

## 第一章 MySQL储存引擎

MYSQL由以下几部分组成：

- 连接池组件

- 管理服务和工具组件

- SQL接口组件

- 查询分析器组件

- 优化器组件

- 缓冲（Cache）组件

- 插件式存储引擎

- 物理文件

储存引擎是底层物理结构的实现,需要特别注意,存储引擎是基于表的,而不是数据库.

【note】这可能是每个表都可以选择自己的储存引擎的原因？

## 1 InnoDB储存引擎

InnoDB引擎支持事务，其特点是支持行锁，支持外键。并支持类似Oracle的非锁定读。

InnoDB通过使用多版本并发控制（MVCC）来获得高并发性，并且实现了SQL标准的四种隔离级别。同时还使用了一种被称为next-key-locking的策略来避免幻读。

除此之外，InnoDB还提供了

- 插入缓存（insert buffer）

- 二次写（double write）

- 自适应哈希索引（adaptive hash index）

- 预读（read ahead）

对于表中数据的储存，InnoDB储存引擎采用了聚集（clustered）的方式，因此每张表的储存都是按照主键的顺序进行存放，如果没有显式的在表定义指定主键，InnoDB存储引擎会为每一行生成一个6字节的ROWID，并以此作为主键。

## 2 MyISAM存储引擎

MyISAM存储引擎不支持事务，表锁涉及，支持全文索引。此外MyISAM储存引擎的缓冲池只缓存索引文件，而不缓存数据文件。这点与大多数数据库不同。

## 3 NDB储存引擎

NDB储存引擎是一个集群储存引擎，特点是数据全部放在内存中（从mysql5.1版本开始，可以将非索引数据放在磁盘上）因此主键查找速度极快，并且添加NDB数据存储节点，可以线性的提高数据库性能。

NDB储存引擎的JOIN是在数据库层完成的，而不是在储存引擎层。这意味着复杂的连接操作需要巨大的开销，因此查询速度很慢。

## 4 Memory储存引擎

Memory储存引擎将表的数据存放在内存中，如果数据库重启或发生崩溃，表中的数据都将消息。它非常适合用于存储临时数据的临时表。默认使用哈希索引而不是B+树索引。

Memory储存引擎只支持表锁，并发性能较差而且，不支持TEXT和BLOB列类型。最重要的是varchar是按照定长char的方式来存的，因此会浪费内存。
