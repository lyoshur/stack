---
title: jvisualvm使用说明
description: jvisualvm使用说明
slug: jvisualvm使用说明
date: 2022-08-11 13:31:00+0000
categories:
    - Java
tags:
    - Jvm
---

# jvisualvm使用说明



JVisualVM是JDK自带的性能检测工具，路径在%JAVA_HOME%/bin下面。双击打开

在本地页卡下是，本地启动的java程序列表，同时能够包含显示Pid

点击某一个程序，能够从 概述、监视、线程、抽样器、Profiler 几个防线显示应用程序的信息

## 概述

概述下主要包括应用程序的PID、主类、以及JVM相关的一些参数。系统属性这里能够显示一些java、spring、tomcat等相关属性信息

## 监视

监视页卡主要显示CPU使用情况，堆内存使用情况，装载的类数量、以及线程活跃情况

## 线程

线程页卡主要显示线程的活跃情况，根据不同颜色包含运行、休眠、等待、驻留、监视等几个不同的状态。

这里可以使用右上角的线程Dump,来获取每个线程的调用栈信息。

## 抽样器

抽样器是这个工具比较核心的部分，主要分为CPU抽样和内存抽样。

CPU抽样能按照CPU样例显示每个java方法（这里能看到自定义的方法名）的CPU执行时间，可以通过页卡切换为每个线程的CPU占用时间。这里有些线程是类似Thread-22这种线程名称，如果需要定位到具体某个类启动的方法，可以结合线程的线程Dump来定位具体的线程。

内存抽样能按照堆内存中的不同变量类型，显示内存占用，不过因为实现原理的原因，比如说 String的底层是 []char，显示的结果并不是太直观。点击每个线程分配页卡，能看到每个线程的内存分配用量。

内存抽样还可以手动点击执行GC，来测试内存回收结果。点击堆Dump，可以导出展示当前堆内存结果，类似String之类比较简单的内存，能看到一些简单值。

## Profiler

暂时不知道有什么用，点击后显示正在连接到目标VM就卡死了 = =、



